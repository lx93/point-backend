#point-server

REQUEST

	API Request
	-----------
	Point exposes a list of REST APIs to perform various actions. These APIs can be used in order to navigate the Point app.

	The base URL for all API requests is localhost:3000/.


		Authentication
		--------------
		MOST requests to Point API are authenticated using a Bearer Token. This bearer token can be obtained from logging in with the proper credentials.

		Any action marked with (AUTH REQ) requires proper authentication before it can be accessed.

		Headers: {
			Authentication: Bearer Token
		}

		Content Type
		------------
		Point only accepts input of the type application/json.



	API Response
	------------
	All Point APIs return a response in json format. The API returns one of the following HTTP status codes.

	200 - OK, The request has succeeded. Resource has not been modified.
	201 - Created, The request has succeeded. Resource has been modified.
	401 - Unauthorized, The request requires authentication. The Authentication header field must contain a valid Bearer token in order to be authenticated.
	409 - Conflict, The request could not be completed due to a conflict with the current state of the target resource.
	413 - Entity too large, The server is refusing to process a request because the request payload is larger than the server is willing or able to process.
	422 - Unprocessable Entity, The server understands the content type of the request entity, and the syntax of the request entity is correct but was unable to process the contained instructions.
	500 - Internal Server Error, The server encountered an unexpected condition that prevented it from fulfilling the request.

		Response Attributes
		-------------------
		message: Provides information regarding the request
		error: Error received by the server
		token: Authorization token

RESOURCES

	User
	----
	The User API lets you perform actions regarding your User Point account. When you sign up on Point, you will be given your own account. You can retrive your account details like phone number, userId, and balances using the User API. You can also modify your password here.

	The following actions can be performed with the User API
	- Get User information
	- Sign up as a User
	- Log in as a User
	- Modify User password
	- Delete User

	BaseURI: localhost:3000/users


		Get User information (AUTH REQ)
		--------------------
		The following API enables you to retrieve information about the user.

		GET localhost:3000/users/

		Arguments: None
		---------

			Request
			-------
			Authorization: Bearer 919Token
			{
			}


			Response
			--------
			HTTP Status Code: 200
			{,
				"phone": 19198229889,
				"userId": "5afaffbf15833716e170fe8c"
			}


		Sign up as a User
		-----------------
		The following API enables you to sign up and create a User Point account.

		POST localhost:3000/users/signup

		Arguments:
		---------
		- phone: A valid 10-digit phone number beginning with 1. Ex. 19198229889. Can be String or Number.
		- password: A valid string containing your password. Ex. verygoodpassword. Hashed password will be stored.

			Request
			-------
			Content-Type: application/json
			{
				"phone": 19198229889,
				"password": "verygoodpassword"
			}


			Response
			--------
			HTTP Status Code: 201
			{
				"message": "User created!"
			}


		Log in as a User
		----------------
		The following API enables you to log intoy your User Point account. A token will be sent back in the response, enabling the user to store it for authorization.

		POST localhost:3000/users/login

		Arguments:
		---------
		- phone: A valid 10-digit phone number beginning with 1. Ex. 19198229889. Can be String or Number.
		- password: A valid string containing your password. Ex. verygoodpassword. Hashed password will be stored.

			Request
			-------
			Content-Type: application/json
			{
				"phone": 19198229889,
				"password": "verygoodpassword"
			}

			Response
			--------
			HTTP Status Code: 201
			{
				"message": "Auth succeeded",
				"token": "919Token"
			}


		Modify User password (AUTH REQ)
		--------------------
		The following API enables you to change the password to your User Point account.

		PUT localhost:3000/users/password

		Arguments:
		---------
		- password: A valid string containing your password. Ex. verynewpassword. Hashed password will be stored.

			Request
			-------
			Content-Type: application/json
			{
				"password": "verynewpassword"
			}

			Response
			--------
			HTTP Status Code: 201
			{
				"message": "Password changed!"
			}


		Delete User (AUTH REQ)
		-----------
		The following API will completely delete the User from the Point database. It will also remove any and all balances with the User.

		DELETE localhost:3000/users/

		Arguments: None

			Request
			-------
			Authorization: Bearer 919Token
			Content-Type: application/json
			{
			}

			Response
			--------
			HTTP Status Code: 201
			{
				"message": "User (and balances) deleted!"

			}


	User Balance
	------------
	The User Balance API lets you perform actions regarding your the balances your User Point account holds. You can retrive all balances you hold and information about then here.

	The following actions can be performed with the User Balance API
	- Get all balances by this User
	- Get information about a specific balance from URL
	- Create a new balance with a Merchant
	- Create a new balance with a Merchant from URL
	- Delete all balances of this User
	- Delete a specific balance from URL

	BaseURI: localhost:3000/users/balances


		Get all balances by this User (AUTH REQ)
		-----------------------------
		The following API enables you to retrieve all balances involving this User.

		GET localhost:3000/users/balances

		Arguments: None
		---------

			Request
			-------
			Authorization: Bearer 919Token
			{
			}


			Response
			--------
			HTTP Status Code: 200
			{
				"balance": [
					{
						"_id": "5afafff415833716e170fe92",
						"phone": 19198229889,
						"merchantId": "5afaffc015833716e170fe8f",
						"balance": 0,
						"__v": 0
					},
					{
						"_id": "5afb028615833716e170fe95",
						"phone": 19198229889,
						"merchantId": "5afaffc015833716e170fe90",
						"balance": 0,
						"__v": 0
					},
					{
						"_id": "5afb02a415833716e170fe96",
						"phone": 19198229889,
						"merchantId": "5afaffc015833716e170fe91",
						"balance": 0,
						"__v": 0
					}
				]
			}


		Get information about a specific balance (AUTH REQ)
		----------------------------------------
		The following API enables you to retrieve a QRCode containing a specific balance in the URL.

		GET localhost:3000/users/balances/:balanceId

		Arguments:
		---------
		- balanceId: This is a unique number associated to each balance held. This is a Mongoose.Schema.Types.ObjectId object located in the _id collumn.

			Request
			-------
			Authorization: Bearer 919Token
			{
			}


			Response
			--------
			HTTP Status Code: 200
			{
				"qrcode": "data:image/png;base64,QRCODE"
			}


		Create a new balance with a Merchant (AUTH REQ)
		------------------------------------
		The following API enables you to create a new balance of 0 with a specified merchant.

		POST localhost:3000/users/balances

		Arguments:
		---------
		- merchantId: This is a unique number associated to each Merchant. This is a Mongoose.Schemta.Types.ObjectId object located in the _id collumn of Merchants.

			Request
			-------
			Authorization: Bearer 919Token
			Content-Type: application/json
			{
				"merchantId": "5afaffc015833716e170fe8f"
			}


			Response
			--------
			HTTP Status Code: 201
			{
				"message": "Balance created!"
			}


		Create a new balance with a Merchant from URL (AUTH REQ)
		---------------------------------------------
		The following API enables you to create a new balance of 0 with a specified merchant from the URL.

		POST localhost:3000/users/balances/:merchantId

		Arguments:
		---------
		- merchantId: This is a unique number associated to each Merchant. This is a Mongoose.Schemta.Types.ObjectId object located in the _id collumn of Merchants.

			Request
			-------
			Authorization: Bearer 919Token
			Content-Type: application/json
			{
			}


			Response
			--------
			HTTP Status Code: 201
			{
				"message": "Balance created!"
			}


		Delete all balances of this User (AUTH REQ)
		--------------------------------
		The following API enables you to delete all balanced tied to the User.

		DELETE localhost:3000/users/balances

		Arguments: None
		---------

			Request
			-------
			Authorization: Bearer 919Token
			{
			}


			Response
			--------
			HTTP Status Code: 201
			{
				"message": "Balances deleted!"
			}


		Delete a specific balance from URL (AUTH REQ)
		----------------------------------
		The following API enables you to delete a specific balance in the URL.

		DELETE localhost:3000/users/balances/:balanceId

		Arguments:
		---------
		- balanceId: This is a unique number associated to each balance held. This is a Mongoose.Schema.Types.ObjectId object located in the _id collumn.

			Request
			-------
			Authorization: Bearer 919Token
			{
			}


			Response
			--------
			HTTP Status Code: 201
			{
				"message": "Balance deleted!"
			}


	Merchant
	--------
	The Merchant API lets you perform actions regarding your Merchant Point account. When you sign up on Point, you will be given your own account. You can retrive your account details like phone number, merchantId, and balances using the Merchant API. You can also modify your password here.

	The following actions can be performed with the Merchant API
	- Get Merchant information
	- Sign up as a Merchant
	- Log in as a Merchant
	- Modify Merchant name
	- Modify Merchant password
	- Delete Merchant

	BaseURI: localhost:3000/merchants


		Get Merchant information (AUTH REQ)
		--------------------
		The following API enables you to retrieve information about the Merchant.

		GET localhost:3000/merchants/

		Arguments: None
		---------

			Request
			-------
			Authorization: Bearer AToken
			{
			}


			Response
			--------
			HTTP Status Code: 200
			{,
				"name": "Merchant A",
				"email": "merchant@a.mail",
				"image": "uploads/Default.png",
				"merchantId": "5afaffc015833716e170fe8f"
			}


		Sign up as a User
		-----------------
		The following API enables you to sign up and create a User Point account.

		POST localhost:3000/merchants/signup

		Arguments:
		---------
		- name: A valid string containing your name. Ex. Merchant A.
		- email: A valid string containing your email. Ex. merchant@a.mail.
		- password: A valid string containing your password. Ex. verygoodpassword. Hashed password will be stored.

			Request
			-------
			Content-Type: application/json
			{
				"name": "Merchant A",
				"email": "merchant@a.mail",
				"password": "verygoodpassword"
			}


			Response
			--------
			HTTP Status Code: 201
			{
				"message": "Merchant created!"
			}


		Log in as a Merchant
		----------------
		The following API enables you to log intoy your Merchant Point account. A token will be sent back in the response, enabling the Merchant to store it for authorization.

		POST localhost:3000/merchants/login

		Arguments:
		---------
		- email: A valid string containing your email. Ex. merchant@a.mail.
		- password: A valid string containing your password. Ex. verygoodpassword. Hashed password will be stored.

			Request
			-------
			Content-Type: application/json
			{
				"email": "merchant@a.mail",
				"password": "verygoodpassword"
			}

			Response
			--------
			HTTP Status Code: 201
			{
				"message": "Auth succeeded",
				"token": "AToken"
			}


		Modify Merchant name (AUTH REQ)
		--------------------
		The following API enables you to change the name to your Merchant Point account.

		PUT localhost:3000/merchants/password

		Arguments:
		---------
		- name: A valid string containing your name. Ex. Merchant 20.

			Request
			-------
			Authorization: Bearer AToken
			Content-Type: application/json
			{
				"name": "Merchant 20"
			}

			Response
			--------
			HTTP Status Code: 201
			{
				"message": "Name changed!"
			}


		Modify Merchant image (AUTH REQ)
		------------------------
		The following API enables you to change the image to your Merchant Point account.

		PUT localhost:3000/merchants/image

		Arguments:
		---------
		- password: A valid image in .jpeg or .png format. Max file size <= 5.24MB.

			Request
			-------
			Authorization: Bearer AToken
			Content-Type: application/json
			image: Default.png
			{
			}

			Response
			--------
			HTTP Status Code: 201
			{
				"message": "Image changed!"
			}


		Modify Merchant password (AUTH REQ)
		------------------------
		The following API enables you to change the password to your Merchant Point account.

		PUT localhost:3000/merchants/password

		Arguments:
		---------
		- password: A valid string containing your password. Ex. verynewpassword.

			Request
			-------
			Authorization: Bearer AToken
			Content-Type: application/json
			{
				"password": "verynewpassword"
			}

			Response
			--------
			HTTP Status Code: 201
			{
				"message": "Password changed!"
			}


		Delete Merchant (AUTH REQ)
		---------------
		The following API will completely delete the Merchant from the Point database. It will also remove any and all balances with the Merchant.

		DELETE localhost:3000/merchants/

		Arguments: None

			Request
			-------
			Authorization: Bearer AToken
			Content-Type: application/json
			{
			}

			Response
			--------
			HTTP Status Code: 201
			{
				"message": "Merchant (and balances) deleted!"

			}


	Merchant Balance
	----------------
	The Merchant Balance API lets you perform actions regarding your the balances your Merchant Point account holds. You can retrive all balances you hold and information about then here.

	The following actions can be performed with the Merchant Balance API
	- Get all balances by this Merchant
	- Get information about a specific balance from URL
	- Create a new balance with a Merchant
	- Create a new balance with a Merchant from URL
	- Delete all balances of this Merchant
	- Delete a specific balance from URL

	BaseURI: localhost:3000/merchants/balances


		Get all balances by this Merchant (AUTH REQ)
		---------------------------------
		The following API enables you to retrieve all balances involving this Merchant.

		GET localhost:3000/merchants/balances

		Arguments: None
		---------

			Request
			-------
			Authorization: Bearer AToken
			{
			}


			Response
			--------
			HTTP Status Code: 200
			{
				"balance": [
					{
						"_id": "5afb04ef15833716e170fe9a",
						"phone": 19198229889,
						"merchantId": "5afaffc015833716e170fe8f",
						"balance": 20,
						"__v": 0
					},
					{
						"_id": "5afb04f115833716e170fe9b",
						"phone": 19802160745,
						"merchantId": "5afaffc015833716e170fe8f",
						"balance": 25,
						"__v": 0
					},
					{
						"_id": "5afb04f715833716e170fe9c",
						"phone": 16177635369,
						"merchantId": "5afaffc015833716e170fe8f",
						"balance": 30,
						"__v": 0
					}
				]
			}


		Get information about a specific balance (AUTH REQ)
		----------------------------------------
		The following API enables you to retrieve a QR code containing a specific balance in the URL.

		GET localhost:3000/merchants/balances/:balanceId

		Arguments:
		---------
		- balanceId: This is a unique number associated to each balance held. This is a Mongoose.Schema.Types.ObjectId object located in the _id collumn.

			Request
			-------
			Authorization: Bearer AToken
			{
			}


			Response
			--------
			HTTP Status Code: 200
			{
				"qrcode": "data:image/png;base64,QRCODE"
			}


		Create a new balance with a User (AUTH REQ)
		--------------------------------
		The following API enables you to create a new balance with a specified user.

		POST localhost:3000/users/balances

		Arguments:
		---------
		- phone: A valid 10-digit phone number beginning with 1. Ex. 19198229889. Can be String or Number.
		- balance: A valid number containing the balance held between the Merchant and User.

			Request
			-------
			Authorization: Bearer AToken
			Content-Type: application/json
			{
				"phone": 19198229889,
				"balance": 20
			}


			Response
			--------
			HTTP Status Code: 201
			{
				"message": "Balance created!"
			}


		Create a new balance with a Merchant from URL (AUTH REQ)
		---------------------------------------------
		The following API enables you to create a new balance of 0 with a specified merchant from the URL.

		POST localhost:3000/users/balances/:phone

		Arguments:
		---------
		- phone: A valid 10-digit phone number beginning with 1. Ex. 19198229889. Can be String or Number.
		- balance: A valid number containing the balance held between the Merchant and User.

			Request
			-------
			Authorization: Bearer 919Token
			Content-Type: application/json
			{
				"balance": 20
			}


			Response
			--------
			HTTP Status Code: 201
			{
				"message": "Balance created!"
			}


		Update a balance with a User (AUTH REQ)
		-----------------------------
		The following API enables you to create a new balance with a specified user.

		PUT localhost:3000/merchants/balances

		Arguments:
		---------
		- phone: A valid 10-digit phone number beginning with 1. Ex. 19198229889. Can be String or Number.
		- merchantId: This is a unique number associated to each Merchant. This is a Mongoose.Schemta.Types.ObjectId object located in the _id collumn of Merchants.
		- balance: A valid number containing the balance held between the Merchant and User.
		- value: A valid number containing the change in balance.

			Request
			-------
			Authorization: Bearer AToken
			Content-Type: application/json
			{
				"phone": 19198229889,
				"merchantId": "5afaffc015833716e170fe8f",
				"balance": 20,
				"value": -5
			}


			Response
			--------
			HTTP Status Code: 201
			{
				"message": "Balance changed!"
			}


		Update a balance with a User from URL (AUTH REQ)
		-------------------------------------
		The following API enables you to create a new balance with a specified user.

		PUT localhost:3000/merchants/balances/:balanceId

		Arguments:
		---------
		- balanceId: This is a unique number associated to each balance held. This is a Mongoose.Schema.Types.ObjectId object located in the _id collumn.
		- value: A valid number containing the change in balance.

			Request
			-------
			Authorization: Bearer AToken
			Content-Type: application/json
			{
				"balanceId": "5afb04ef15833716e170fe9a",
				"value": -5
			}


			Response
			--------
			HTTP Status Code: 201
			{
				"message": "Balance changed!"
			}


		Delete all balances of this Merchant (AUTH REQ)
		------------------------------------
		The following API enables you to delete all balanced tied to the Merchant.

		DELETE localhost:3000/merchants/balances

		Arguments: None
		---------

			Request
			-------
			Authorization: Bearer AToken
			{
			}


			Response
			--------
			HTTP Status Code: 201
			{
				"message": "Balances deleted!"
			}


		Delete a specific balance from URL (AUTH REQ)
		----------------------------------
		The following API enables you to delete a specific balance in the URL.

		DELETE localhost:3000/merchants/balances/:balanceId

		Arguments:
		---------
		- balanceId: This is a unique number associated to each balance held. This is a Mongoose.Schema.Types.ObjectId object located in the _id collumn.

			Request
			-------
			Authorization: Bearer AToken
			{
			}


			Response
			--------
			HTTP Status Code: 201
			{
				"message": "Balance deleted!"
			}


	Messaging
	---------
	The Messaging Balance API lets you send an SMS message.

	The following actions can be performed with the Messaging Balance API
	- Send an SMS message

	BaseURI: localhost:3000/messaging


		Send an SMS message
		-------------------
		The following API enables you to send a customized message to a specified phone number.

		POST localhost:3000/messaging

		Arguments:
		---------
		- dst: A valid 10-digit phone number beginning with 1. Ex. 19198229889. Can be String or Number.
		- text: A valid string containing the text message you wish to send. Ex. Hello world!

			Request
			-------
			dst: 19198229889
			text: Hello world!
			Content-Type: application/json
			{
			}


			Response
			--------
			HTTP Status Code: 201
			{
				"message": "Message sent!"
			}
